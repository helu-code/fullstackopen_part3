{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/persons.js","components/Person.js","App.js","index.js"],"names":["Filter","_ref","text","handleChange","react_default","a","createElement","value","onChange","PersonForm","name","handleNameChange","number","handleNumberChange","handleSubmit","onSubmit","type","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","Person","handleClick","onClick","Notification","message","msgType","console","log","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","filter","setFilter","_useState9","_useState10","setMessage","_useState11","_useState12","setMsgType","useEffect","personService","initialPersons","filteredArray","person","indexOf","deleteNumber","delid","findIndex","i","delName","window","confirm","x","n","setTimeout","App_Notification","components_Filter","event","target","components_PersonForm","preventDefault","found","find","element","updatedPerson","map","catch","error","returnedPerson","key","components_Person","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.515f618f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({text, handleChange}) => {\r\n  return (\r\n    <div>filter shown with \r\n        <input\r\n        value={text} \r\n        onChange={handleChange}>\r\n        </input>\r\n        \r\n        </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({name, handleNameChange, number, handleNumberChange,handleSubmit}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n        <div>\r\n          name: \r\n          <input \r\n            value={name} \r\n            onChange={handleNameChange}\r\n            />\r\n        </div>\r\n        <div>\r\n          number: \r\n          <input \r\n            value={number} \r\n            onChange={handleNumberChange}\r\n            />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import React from 'react'\r\n\r\nconst Person = ({name,number,handleClick}) => {\r\n\r\n  return (\r\n    <div>     \r\n        { name +\" \" +number}\r\n        <button onClick={handleClick}>delete</button>\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Person from './components/Person'\r\n\r\nconst Notification = ({ message, msgType }) => {\r\n  console.log(\"Notification msg\",message)\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (msgType === 1)\r\n  {\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  else\r\n  {\r\n    return (\r\n      <div className=\"warning\">\r\n        {message}\r\n      </div>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nconst App = () => {\r\n   const [ persons, setPersons] = useState([])\r\n  //   { name: 'Arto Hellas', number: '040-123456' },\r\n  //   { name: 'Ada Lovelace', number: '39-44-5323523' },\r\n  //   { name: 'Dan Abramov', number: '12-43-234345' },\r\n  //   { name: 'Mary Poppendieck', number: '39-23-6423122' },\r\n  //   { name: 'Danny arton', number: '39-23-6423122' }\r\n  // ]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [msgType, setMsgType] = useState(0)\r\n  \r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        //console.log('promise fulfilled')\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const filteredArray = persons.filter(person=>\r\n    {\r\n      //console.log(\"Filter \",person.name,filter);\r\n      if (person.name.indexOf(filter) > -1)\r\n        return true;\r\n        return false; \r\n    });\r\n  \r\n  \r\n  const addNumber = (event) => {\r\n    event.preventDefault()\r\n    console.log('button clicked', event.target)\r\n\r\n    const found = persons.find(function(element) {\r\n      console.log('element.name', event.target)\r\n      return element.name === newName;\r\n    });\r\n    console.log(\"found=\",found)\r\n    if (found)\r\n    {\r\n      if (window.confirm( `${newName} is already added to phonebook, replase the old number with a new one?`))\r\n      {\r\n        found.number = newNumber;\r\n        personService\r\n        .update(found.id,found)\r\n        .then(updatedPerson =>{\r\n            console.log(\"UpdatePerson\")\r\n            setPersons(persons.map(person => person.id !== found.id ? person : found))\r\n\r\n            setMessage(\r\n              `Person '${found.name}' updated`\r\n            )\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 2000)\r\n        })\r\n        .catch(error => {\r\n          setMsgType(1)\r\n          setMessage(\r\n            `Person '${found.name}' was already removed from server`\r\n          )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n            setMsgType(1)\r\n          }, 5000)\r\n          setPersons(persons.filter(n => n.id !== found.id))\r\n        })\r\n      }\r\n\r\n      setNewName('')\r\n      setNewNumber('')\r\n      return;\r\n    }\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n\r\n    personService\r\n      .create( personObject)\r\n      .then(returnedPerson => {\r\n        console.log(returnedPerson)\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNewName('')\r\n        setNewNumber('')\r\n\r\n        setMessage(\r\n          `Person '${newName}' added`\r\n        )\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 2000)\r\n\r\n      })\r\n      // setPersons(persons.concat(personObject))\r\n      // setNewName('')\r\n  }\r\n\r\n\r\n  const handleNameChange = (event) => {\r\n    //console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    //console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleFilterChange = (event) => {\r\n    //console.log(event.target.value)\r\n    setFilter(event.target.value)\r\n  }\r\n  const rows = () => filteredArray.map(person =>\r\n    \r\n    <div key={person.name}> \r\n    <Person name={person.name} number={person.number} handleClick={() =>deleteNumber(person.id)}></Person>\r\n    </div>\r\n    )\r\n\r\n  const deleteNumber = id =>{\r\n    console.log(\"Delete\",id);\r\n\r\n    const delid = persons.findIndex(i=> i.id === id)\r\n    const delName = persons[delid].name\r\n    if (window.confirm(\"Haluat siis varmasti poistaa henkilön \"+delName))\r\n    {\r\n      personService\r\n      .deletePerson(id)\r\n      .then(x=>{\r\n        console.log(x)\r\n        setPersons(persons.filter(n => n.id !== id))\r\n\r\n        setMessage(\r\n          `Person '${delName}' removed`\r\n        )\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 2000)\r\n\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} msgType={msgType}/>\r\n      <Filter text={filter} handleChange={handleFilterChange}/>\r\n      <h2>add a new</h2>\r\n      <PersonForm name={newName} handleNameChange={handleNameChange} \r\n        number={newNumber} handleNumberChange={handleNumberChange} handleSubmit={addNumber}/>\r\n      <h2>Numbers</h2>\r\n      {rows()}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n//import * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n//serviceWorker.unregister();\r\n"],"sourceRoot":""}